<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Jaehee Shin</title>
	<meta name="description" content="ì„¤ëª…">
	<meta name="keywords" content="í‚¤ì›Œë“œ1, í‚¤ì›Œë“œ2">
	<meta property="og:image" content="">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<link rel="stylesheet" href="brand.css">
	<link rel="icon" type="image/png" href="">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" rel="stylesheet">


</head>
<body>

<div class="menu-toggle" id="menuToggle" onclick="toggleMenu()">
  <div class="plus-icon">
  <div class="bar horizontal"></div>
  <div class="bar vertical"></div>
</div>
</div>

<div id="modal-menu" class="modal">
  <!-- <span class="close-modal" onclick="closeMenu()">Ã—</span> -->
  <div class="modal-content">
    <a href="project.html">Project</a>
    <a href="brand.html">Brand</a>
    <a href="note.html">Note</a>
    <a href="about.html">About</a>
  </div>
</div>


 
  <select id="project-select">
    <option value="miguproduct">Migu product</option>
    <option value="sunab">Sunab</option>
  </select>


  <div class="image-description">
  <p id="desc-line1"></p>
  <p id="desc-line2"></p>
  <p id="desc-line3"></p>
  <p id="desc-line4"></p>
  <p id="desc-line5"></p>
  <p id="desc-line6"></p>


</div>


  <p class= "update"> Last update: 2025.07.16 </p>

  <div class="slider-wrapper">
  <div id="image-container"></div>
</div>

  
<div id="loader" class="loader"></div>




<script>


  const images = {
    miguproduct: [
      "images/7D6B9312.jpg",
      "images/7D6B9302.jpg",
      "images/7D6B9305.jpg",
      "images/7D6B9277.jpg",
      "images/7D6B9290.jpg",
      "images/7D6B9258.jpg",
      "images/7D6B9347.jpg",
    ],

    sunab: [
      "images/IMG_5048.JPG",
      "images/image_1663255823473_2500.jpg",
      "images/image_1663255824495_2500.jpg",
      "images/image_1663255750106_2500.jpg",
      "images/image_1663255750230_2500.jpg",
      "images/image_1636457026480_2500.jpg",
      "images/image_1636457026147_2500.jpg",
      "images/image_1624429872367_2500.jpg",
      "images/image_1624270928179_2500.jpg",
      "images/image_1624376425078_2500.jpg",
      "images/image_1624286926853_2500.jpg",
      "images/DSC08225.jpg",
    ]
  };

  const projectDescriptions = {
  miguproduct: {
    line1: "Type: Belt",
    line2: "Material: Cow leather, Nickel & Brass buckle",
    line3: "Year: 2025"
  },
  sunab: {
    line1: "Type: Bag, Wallet, Acc",
    line2: "Year: 2019"
  }
};

  let currentIndex = 0;
  let currentProject = "";
  let isFirstLoad = true; // ğŸ”‘ ìµœì´ˆ ë¡œë”© ì—¬ë¶€ ì²´í¬ìš©

  let overlayApplied = false; // âœ… ë¸”ëŸ¬ ì ìš© ì—¬ë¶€ í”Œë˜ê·¸





function applyOverlayIfLastImage() {
  const isLast = currentIndex === images[currentProject].length - 1;
  const overlayWrapper = document.querySelector(".image-overlay");

  if (isLast && overlayWrapper && !overlayWrapper.classList.contains("show-filter")) {
    overlayWrapper.classList.add("show-filter");

    // ê¸°ì¡´ í¬ë ˆë”§ ì œê±°
    const existingCredit = overlayWrapper.querySelector(".overlay-credit");
    if (existingCredit) existingCredit.remove();

    // í¬ë ˆë”§ ìƒì„±
    const credit = document.createElement("div");
    credit.className = "overlay-credit";

    const creditData = projectCredits[currentProject]; // ğŸ“Œ ë™ì ìœ¼ë¡œ í¬ë ˆë”§ ê°€ì ¸ì˜¤ê¸°
    credit.innerHTML = `
      <p>${creditData.line1}</p>
      <p>${creditData.line2}</p>
      <p>${creditData.line3}</p>
    `;

    overlayWrapper.appendChild(credit);
  }
}


window.addEventListener("DOMContentLoaded", () => {
  const links = document.querySelectorAll(".modal-content a");
  const currentPath = window.location.pathname;

  links.forEach(link => {
    if (link.getAttribute("href") === currentPath.split("/").pop()) {
      link.classList.add("active-menu");
    }
  });
});


const projectCredits = {
  miguproduct: {
    line1: "Migu product Yeonhui Offline store",
    line2: '1F migu product, 21 Yeonhui-ro 11ma-gil, Seodaemun-gu, Seoul',
  },
  sunab: {
    line1: "Sunab official website",
    line2: '<a href="https://www.sunab.kr" target="_blank">www.sunab.kr</a>',
  }
};

function applyOverlayIfLastImage() {
  const isLast = currentIndex === images[currentProject].length - 1;
  const overlayWrapper = document.querySelector(".image-overlay");

  if (isLast && overlayWrapper && !overlayWrapper.classList.contains("show-filter")) {
    overlayWrapper.classList.add("show-filter");

    const existingCredit = overlayWrapper.querySelector(".overlay-credit");
    if (existingCredit) existingCredit.remove();

    const credit = document.createElement("div");
    credit.className = "overlay-credit";

    const creditData = projectCredits[currentProject];
    credit.innerHTML = `
      <p>${creditData.line1}</p>
      <p><a href="https://${creditData.line2}" target="_blank">${creditData.line2}</a></p>
    `;

    overlayWrapper.appendChild(credit);
  }
}


//   const container = document.getElementById("image-container");
//   const prevBtn = document.getElementById("prevBtn");
//   const nextBtn = document.getElementById("nextBtn");

//   function showImage(index) {
//   const loader = document.getElementById("loader");
//   loader.style.display = "block"; // ğŸ”µ ë¡œë”© ì‹œì‘

//   container.innerHTML = "";

//   const img = document.createElement("img");
//   img.src = images[currentProject][index];

//   img.onload = () => {
//     loader.style.display = "none"; // âœ… ì´ë¯¸ì§€ ì™„ì „íˆ ë¡œë“œë˜ë©´ ìˆ¨ê¹€
//     container.appendChild(img);

//     // ìµœì´ˆ ë¡œë”© ì‹œì—ë§Œ í˜ì´ë“œì¸ íš¨ê³¼
//     if (isFirstLoad) {
//       img.classList.add("pre-fade");
//       requestAnimationFrame(() => {
//         img.classList.add("fade-in");
//         img.classList.remove("pre-fade");
//       });
//       isFirstLoad = false;
//     }
//   };
// }



  

  document.getElementById("project-select").addEventListener("change", function () {
  currentProject = this.value;
  currentIndex = 0;
  isFirstLoad = true;

  showImagesVertically(); // ìŠ¬ë¼ì´ë“œ ëŒ€ì‹  ì„¸ë¡œ ë‚˜ì—´

  const desc = projectDescriptions[currentProject];
  document.getElementById("desc-line1").textContent = desc.line1;
  document.getElementById("desc-line2").textContent = desc.line2;
  document.getElementById("desc-line3").textContent = desc.line3;
  document.getElementById("desc-line4").textContent = desc.line4 || "";
  document.getElementById("desc-line5").textContent = desc.line5 || "";
  document.getElementById("desc-line6").textContent = desc.line6 || "";
});





window.addEventListener("DOMContentLoaded", () => {
  const projectSelect = document.getElementById("project-select");
  projectSelect.value = "miguproduct";
  currentProject = "miguproduct";

  showImagesVertically();  // ìŠ¬ë¼ì´ë“œ ëŒ€ì‹  ì„¸ë¡œ ë‚˜ì—´

  const desc = projectDescriptions[currentProject];
  document.getElementById("desc-line1").textContent = desc.line1;
  document.getElementById("desc-line2").textContent = desc.line2;
  document.getElementById("desc-line3").textContent = desc.line3;
});





//  prevBtn.addEventListener("click", () => {
//     if (currentIndex > 0) {
//       currentIndex--;
//       showImage(currentIndex);
//     }
//   });

//   nextBtn.addEventListener("click", () => {
//   if (currentIndex < images[currentProject].length - 1) {
//     currentIndex++;
//     showImage(currentIndex);
//   } else {
//     if (!overlayApplied) {
//       applyOverlayIfLastImage(); // í•„í„° ë®ê¸°
//       overlayApplied = true;
//     } else {
//       currentIndex = 0;
//       overlayApplied = false;
//       showImage(currentIndex);
//     }
//   }
// });



  function toggleMenu() {
  const modal = document.getElementById("modal-menu");
  const toggle = document.getElementById("menuToggle");

  const isOpen = modal.classList.contains("show");

  

  if (isOpen) {
    modal.classList.remove("show");
    toggle.classList.remove("rotate");

    // ê°•ì œë¡œ íŠ¸ëœì§€ì…˜ ì œê±°
    modal.style.transition = "none";

    // opacityê°€ 0ì´ ë˜ë”ë¼ë„ íŠ¸ëœì§€ì…˜ ì—†ì´ ë°”ë¡œ ì ìš©ë˜ê²Œ
    requestAnimationFrame(() => {
      modal.style.opacity = "0";
      modal.style.pointerEvents = "none";
    });

  } else {

     // ëª¨ë‹¬ ì—´ê¸°: íŠ¸ëœì§€ì…˜ ì¶”ê°€ í›„ show í´ë˜ìŠ¤ ì¶”ê°€
    modal.style.transition = "opacity 0.7s ease";
    modal.style.opacity = "";
    modal.style.pointerEvents = "";

    modal.classList.add("show");
    toggle.classList.add("rotate");
  }
}


container.addEventListener("click", () => {
  if (currentProject && images[currentProject]) {
    if (currentIndex < images[currentProject].length - 1) {
      currentIndex++;
      showImage(currentIndex);
    } else {
      if (!overlayApplied) {
        applyOverlayIfLastImage(); // í•„í„° ë®ê¸°
        overlayApplied = true;
      } else {
        currentIndex = 0;
        overlayApplied = false;
        showImage(currentIndex);
      }
    }
  }
});



function showImagesVertically() {
  const container = document.getElementById("image-container");
  container.innerHTML = "";
  container.classList.add("vertical-images");

  const imgList = images[currentProject];
  const creditData = projectCredits[currentProject];

  imgList.forEach((src, index) => {
    const wrapper = document.createElement("div");
    wrapper.className = "image-wrapper";

    const img = document.createElement("img");
    img.src = src;
    img.loading = "lazy";

    wrapper.appendChild(img);
    container.appendChild(wrapper);

    // ë§ˆì§€ë§‰ ì´ë¯¸ì§€ì¸ ê²½ìš° í¬ë ˆë”§ë„ ê°™ì´ ë¶™ì´ê¸°
    if (index === imgList.length - 1) {
  const credit = document.createElement("p");
  credit.className = "image-credit";

  let creditHTML = `${creditData.line1}<br>${creditData.line2}`;
  if (creditData.line3) {
    creditHTML += `<br>${creditData.line3}`;
  }

  credit.innerHTML = creditHTML;
  wrapper.appendChild(credit);
}
  });
}


</script>
</body>
</html>